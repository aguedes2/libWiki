<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" type="text/css" href="_estilos/style.css" />
    <title>Document</title>
  </head>
  <body>
    <main>
      <header class="searchForm-container">
        <img
          src="https://image.ibb.co/e6vOFQ/wikipedia.png"
          alt="Wikipedia Logo"
        />

        <form class="searchForm">
          <input type="search" class="searchForm-input" id="searchForm-input" />
          <button type="submit" class="icon searchIcon">
            <img
              src="https://image.ibb.co/cpG8zk/search.png"
              alt="Magnifying Glass Icon"
            />
          </button>
          <a
            href="https://en.wikipedia.org/wiki/Special:Random"
            target="_blank"
            rel="noopener"
            class="icon randomIcon"
          >
            <img
              src="https://image.ibb.co/fR5OX5/random.png"
              alt="Shuffle Icon"
            />
          </a>
        </form>
      </header>
      <section class="searchResults"></section>
    </main>
    <script>
      const $search_form = document.querySelector('.searchForm');

      $search_form.addEventListener('submit', handleSubmit);

      function handleSubmit(event) {
        //evitar o evento padrão do formulário de carregar a página ao evento submit
        event.preventDefault();

        //pegar o valor digitado pelo usuário
        var $input = document.getElementById('searchForm-input').value;

        //remover os espaços em branco
        var text = $input.trim();
        var $searchQuery = '';
        for (const key in text) {
          $input[key] === ' '
            ? ($searchQuery += '%20')
            : ($searchQuery += $input[key]);
        }
        $input = '';
        //print `searchQuery` no console
        console.log('Query de busca: ', $searchQuery);
      }
    </script>
  </body>
</html>
